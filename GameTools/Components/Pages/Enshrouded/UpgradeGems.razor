@page "/enshrouded/gems"

<h3>Upgrade Gems</h3>

<RadzenRow>
    <RadzenLabel Text="Current gem level" Component="eCurrentGemLevel" />
    <RadzenNumeric Name="eCurrentGemLevel" @bind-Value="@_currentGemLevel" Min="1" Max="49" Step="1" Change="(int i) => OnChanged()" />
</RadzenRow>

<RadzenRow style="margin-top: 1rem">
    <RadzenCheckBox Name="chkUseSpringlandsNightSanctum" @bind-Value="@_useSpringlandsNightSanctum" Change="(bool _) => OnChanged()" />
    <RadzenLabel Text="Use Springlands Night Sanctum" Component="chkUseSpringlandsNightSanctum" />
</RadzenRow>

<RadzenRow style="margin-top: 1rem">
    <RadzenCheckBox Name="chkUseRevelwoodNightSanctum" @bind-Value="@_useRevelwoodNightSanctum" Change="(bool _) => OnChanged()" />
    <RadzenLabel Text="Use Revelwood Night Sanctum" Component="chkUseRevelwoodNightSanctum" />
</RadzenRow>

<RadzenRow style="margin-top: 1rem">
    <RadzenCheckBox Name="chkUseNomadHighlandsNightSanctum" @bind-Value="@_useNomadHighlandsNightSanctum" Change="(bool _) => OnChanged()" />
    <RadzenLabel Text="Use Nomad Highlands Night Sanctum" Component="chkUseNomadHighlandsNightSanctum" />
</RadzenRow>

<RadzenRow style="margin-top: 1rem">
    <RadzenCheckBox Name="chkUseKindlewastesNightSanctum" @bind-Value="@_useKindlewastesNightSanctum" Change="(bool _) => OnChanged()" />
    <RadzenLabel Text="Use Kindlewastes Night Sanctum" Component="chkUseKindlewastesNightSanctum" />
</RadzenRow>

<RadzenRow style="margin-top: 1rem">
    <RadzenCheckBox Name="chkUseAlbaneveSummitsNightSanctum" @bind-Value="@_useAlbaneveSummitsNightSanctum" Change="(bool _) => OnChanged()" />
    <RadzenLabel Text="Use Albaneve Summits Night Sanctum" Component="chkUseAlbaneveSummitsNightSanctum" />
</RadzenRow>

<RadzenRow style="margin-top: 1rem">
    <RadzenCheckBox Name="chkUseVeilwaterBasinNightSanctum" @bind-Value="@_useVeilwaterBasinNightSanctum" Change="(bool _) => OnChanged()" />
    <RadzenLabel Text="Use Veilwater Basin Night Sanctum" Component="chkUseVeilwaterBasinNightSanctum" />
</RadzenRow>

@if (_upgrades.Count > 0)
{
    <RadzenTabs>
        <Tabs>
            <RadzenTabsItem Text="Table">
                <RadzenDataGrid Data="@_upgrades" Style="margin-top: 1rem">
                    <Columns>
                        <RadzenDataGridColumn Width="20rem" Title="Gem Forge" Property="GemForge"/>
                        <RadzenDataGridColumn Title="Archaic Essence level" Property="ArchaicEssenceLevel"/>
                        <RadzenDataGridColumn Title="Total cost" Property="TotalCost"/>
                        <RadzenDataGridColumn Title="From level" Property="FromLevel"/>
                        <RadzenDataGridColumn Title="To level" Property="ToLevel"/>
                    </Columns>
                </RadzenDataGrid>
            </RadzenTabsItem>

            <RadzenTabsItem Text="Timeline">
                <RadzenTimeline LinePosition="LinePosition.Alternate">
                    <Items>
                        @foreach (Upgrade upgrade in _upgrades)
                        {
                            <RadzenTimelineItem PointStyle="PointStyle.Primary">
                                <LabelContent>@upgrade.FromLevel</LabelContent>
                            </RadzenTimelineItem>

                            <RadzenTimelineItem>
                                <LabelContent>
                                    Spend @upgrade.TotalCost Archaic Essence level @upgrade.ArchaicEssenceLevel<br/>
                                    at @upgrade.GemForge
                                </LabelContent>
                            </RadzenTimelineItem>
                        }
                        <RadzenTimelineItem PointStyle="PointStyle.Primary">
                            <LabelContent>50</LabelContent>
                        </RadzenTimelineItem>
                    </Items>
                </RadzenTimeline>
            </RadzenTabsItem>
        </Tabs>
    </RadzenTabs>
}